# 프로젝트 현황 및 가이드

이 문서는 포트폴리오 웹사이트 프로젝트의 현재 상태, 구현된 기능, 그리고 향후 개발 방향에 대한 가이드를 제공합니다.

## 1. 프로젝트 개요

- **목표:** 온라인으로 조회하고 PDF로 깔끔하게 인쇄할 수 있는 개인 포트폴리오 웹사이트 구축.
- **핵심 기능:**
  - 숨겨진 관리자 로그인 후, 웹페이지의 모든 텍스트 콘텐츠를 실시간으로 수정할 수 있는 '편집 모드' 기능.
  - 수정된 모든 내용은 데이터베이스에 영구적으로 저장되며, 웹사이트에 방문한 모든 사용자에게 **실시간으로 반영**되어야 함.
- **현재 상태:** UI 구현이 완료되었고, Supabase를 이용한 로그인/편집 모드 전환 기능의 기반이 마련되었습니다. 실제 콘텐츠 편집 및 데이터베이스 연동 기능 구현이 다음 단계입니다.

## 2. 기술 스택

- **언어:** TypeScript
- **프레임워크:** React (v19)
- **빌드 도구:** Vite
- **스타일링:** Tailwind CSS
- **인증/백엔드:** Supabase (Auth, Realtime)
- **코드 품질:** ESLint

## 3. 주요 기능 및 구현 현황

| 기능 | 상태 | 설명 |
| :--- | :--- | :--- |
| **UI (디자인)** | 🟢 **완료** | `Design.html`을 기준으로 모든 UI 컴포넌트(Header, Portfolio 등)의 스타일과 구조가 구현되었습니다. |
| **로그인 / 편집 모드** | 🟢 **완료** | Supabase의 이메일/비밀번호 인증을 사용합니다. `AuthContext`를 통해 앱 전역에서 로그인 상태를 관리합니다. |
| | | - **로그인:** `Ctrl`+`Alt`+`L` 단축키로 로그인 창을 엽니다. |
| | | - **로그아웃:** '편집 모드 종료' 버튼으로 세션을 안전하게 종료합니다. |
| **알림 시스템** | 🟢 **완료** | `ToastContext`를 통해 화면 우측 하단에 알림창을 띄웁니다. (예: 로그아웃, 저장 성공/실패) |
| **콘텐츠 편집 기능** | 🟡 **진행 중** | '클릭하여 수정' 기능이 구현되었습니다.<br/>- **완료:** `Header`, `자기소개`, `기본정보`<br/>- **예정:** `학력`, `경력`, `포트폴리오` 등 |
| **데이터 영속성/실시간**| 🟡 **진행 중** | Supabase DB 연동 및 실시간 동기화가 구현되었습니다.<br/>- **완료:** `Header`, `자기소개`, `기본정보`<br/>- **예정:** `학력`, `경력`, `포트폴리오` 등 |


## 4. 브랜치 전략 및 배포

- **브랜치 전략:**
  - `main`: 실제 서비스될 프로덕션 브랜치입니다.
  - `feat/{기능이름}`: 새로운 기능 개발 시 사용하는 브랜치입니다. 개발 완료 후 `main`으로 Pull Request를 보냅니다.
- **배포:**
  - `Vercel`을 통해 배포합니다.
  - `main` 브랜치에 코드가 병합(merge)되면 자동으로 배포가 진행됩니다.

## 5. 주요 작업 지침

### 환경 변수 (`.env.local`)

- 프로젝트 루트에 `.env.local` 파일이 필요합니다. Supabase 연동을 위한 URL과 키를 저장합니다.
- 이 파일은 보안을 위해 `.gitignore`에 등록되어 Git에 올라가지 않습니다.
  ```
  VITE_SUPABASE_URL="YOUR_SUPABASE_URL"
  VITE_SUPABASE_ANON_KEY="YOUR_SUPABASE_ANON_KEY"
  ```

### 전역 상태 관리 (Context API)

- **인증/편집 모드:** `AuthContext` (`src/contexts/AuthContext.tsx`)가 관리합니다.
  - 컴포넌트 내에서 로그인 상태나 편집 모드 여부를 확인하려면 `useAuth()` 훅을 사용하세요.
- **알림 (Toast):** `ToastContext` (`src/contexts/ToastContext.tsx`)가 관리합니다.
  - 알림을 띄우려면 `useToast()` 훅을 사용하세요.

## 6. 아키텍처 및 다음 단계

'클릭하여 수정' 및 실시간 동기화 기능의 기반 아키텍처가 확립되었습니다. 모든 컴포넌트는 이 구조를 따라 일관성 있게 구현됩니다.

### 핵심 아키텍처

1.  **범용 편집 컴포넌트 (`Editable.tsx`)**
    - '클릭하여 수정'에 필요한 모든 UI/UX 로직(입력창 전환, 자동 포커스, 저장/취소 처리 등)을 캡슐화한 재사용 가능한 컴포넌트입니다.
    - `displayAs`, `editAs` 등의 속성을 통해 `h1`, `p`, `span` 등 다양한 태그와 `input`, `textarea` 편집 방식을 지원합니다.

2.  **데이터 관리 커스텀 훅**
    - **`useTextData`**: 단일 텍스트 데이터를 위한 훅 (`texts` 테이블용).
    - **`useSectionData`**: 복합 JSON 객체 데이터를 위한 훅 (`sections` 테이블용).
    - 이 훅들은 **로딩 상태 관리, 데이터 fetch, 실시간 구독, 데이터 저장** 로직을 모두 내장하여 컴포넌트의 복잡도를 크게 낮추고, 페이지 로드 시 발생하던 콘텐츠 깜박임 현상을 해결합니다.

3.  **컴포넌트 구현 방식**
    - 각 컴포넌트는 자신의 데이터 타입에 맞는 커스텀 훅을 호출합니다.
    - 훅이 제공하는 `loading` 상태를 이용해 스켈레톤 UI를 표시합니다.
    - 훅이 제공하는 `data`와 `handleSave` 함수를 `Editable` 컴포넌트에 전달하여 화면을 렌더링합니다.

### 다음 단계: 리스트 형태의 데이터 편집 기능 구현

- **대상:** `Experience.tsx`, `Education.tsx`, `Portfolio.tsx` 등 리스트(배열) 형태의 데이터를 가진 섹션.
- **과제:**
  - 기존 항목 수정뿐만 아니라, **새 항목 추가, 기존 항목 삭제, 순서 변경** 기능이 필요합니다.
  - `useSectionData` 훅에서 배열 데이터를 다루는 로직을 확장하고, 이를 위한 UI(추가/삭제 버튼 등)를 구현해야 합니다.
